<?xml version="1.0" encoding="UTF-8"?><rss version="2.0" xmlns:content="http://purl.org/rss/1.0/modules/content/"><channel><title>lyq&apos;s Blog</title><description>Cialloï½(âˆ Â·Ï‰&lt; )âŒ’â˜…</description><link>https://blog.lyqgzbl.com/</link><language>zh_CN</language><item><title>Surface Pro 5 å®‰è£… Arch Linux</title><link>https://blog.lyqgzbl.com/posts/surface_install_arch_linux/</link><guid isPermaLink="true">https://blog.lyqgzbl.com/posts/surface_install_arch_linux/</guid><pubDate>Wed, 22 Oct 2025 00:00:00 GMT</pubDate><content:encoded>&lt;hr /&gt;
&lt;h1&gt;å®‰è£…å‰çš„å‡†å¤‡å·¥ä½œ&lt;/h1&gt;
&lt;h3&gt;0. ä¸‹è½½ ISO é•œåƒæ–‡ä»¶&lt;/h3&gt;
&lt;p&gt;ä» Arch Linux å®˜æ–¹ç½‘ç«™ä¸‹è½½æœ€æ–°çš„ ISO é•œåƒæ–‡ä»¶ã€‚&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;a href=&quot;https://archlinux.org/download/&quot;&gt;Arch Linux Downloads&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3&gt;1. åˆ»å½•å¯åŠ¨ U ç›˜&lt;/h3&gt;
&lt;p&gt;å‡†å¤‡ä¸€ä¸ªè‡³å°‘ 2G çš„ U ç›˜&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;åœ¨ Windows ä¸Š:&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;æ¨èä½¿ç”¨ &lt;a href=&quot;https://www.ventoy.net/&quot;&gt;Ventoy&lt;/a&gt; æˆ– &lt;a href=&quot;https://rufus.ie/&quot;&gt;Rufus&lt;/a&gt;ä½¿ç”¨ Rufus æ—¶ï¼Œé€‰æ‹©ä¸‹è½½çš„ ISO æ–‡ä»¶ï¼Œå¹¶ä»¥ &lt;code&gt;DD&lt;/code&gt; æ¨¡å¼å†™å…¥&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;åœ¨ macOS/Linux ä¸Š:&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;é¦–å…ˆï¼Œæ‰¾åˆ°ä½ çš„ U ç›˜è®¾å¤‡åï¼ˆä¾‹å¦‚ &lt;code&gt;diskX&lt;/code&gt; æˆ– &lt;code&gt;sdX&lt;/code&gt;ï¼‰ã€‚&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;# åœ¨ macOS ä¸Š
diskutil list
# åœ¨ Linux ä¸Š
lsblk
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;ç„¶åæ‰§è¡Œ &lt;code&gt;dd&lt;/code&gt; å‘½ä»¤è¿›è¡Œåˆ»å½•&lt;br /&gt;
&lt;strong&gt;è¯·åŠ¡å¿…å°† &lt;code&gt;/dev/sdX&lt;/code&gt; æ›¿æ¢ä¸ºä½ çš„ U ç›˜è®¾å¤‡å&lt;/strong&gt;&lt;br /&gt;
&lt;strong&gt;å°† &lt;code&gt;/Users/lyq/Downloads/archlinux-2025.10.01-x86_64.iso&lt;/code&gt; æ›¿æ¢ä¸ºä½ ä¸‹è½½åˆ° ISO æ–‡ä»¶çš„å®é™…è·¯å¾„&lt;/strong&gt;&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;# ç¤ºä¾‹å‘½ä»¤
sudo dd if=/Users/lyq/Downloads/archlinux-2025.10.01-x86_64.iso of=/dev/sdX bs=4M status=progress oflag=sync
&lt;/code&gt;&lt;/pre&gt;
&lt;h3&gt;2. è®¾ç½® UEFI&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;æ’å…¥å¯åŠ¨ U ç›˜&lt;/li&gt;
&lt;li&gt;å°† Surface å…³æœº&lt;/li&gt;
&lt;li&gt;ç„¶åé•¿æŒ‰ç”µæºé”®å’ŒéŸ³é‡åŠ é”®è¿›å…¥ UEFI&lt;/li&gt;
&lt;li&gt;åœ¨ &lt;code&gt;Security&lt;/code&gt; é€‰é¡¹å¡ä¸­ï¼Œå°† &lt;code&gt;Secure Boot&lt;/code&gt; è®¾ç½®ä¸º &lt;code&gt;Disabled&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;åœ¨ &lt;code&gt;Boot configuration&lt;/code&gt; é€‰é¡¹å¡ä¸­ï¼Œå°† &lt;code&gt;USB Storage&lt;/code&gt; è®¾ç½®ä¸ºç¬¬ä¸€å¯åŠ¨é¡¹&lt;/li&gt;
&lt;li&gt;åœ¨ &lt;code&gt;Boot configuration&lt;/code&gt; é€‰é¡¹å¡ä¸­ï¼Œå°† &lt;code&gt;Enable Boot from USB devices&lt;/code&gt; è®¾ç½®ä¸º &lt;code&gt;On&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;é€‰æ‹© &lt;code&gt;Exit&lt;/code&gt; -&amp;gt; &lt;code&gt;Restart Now&lt;/code&gt; ä¿å­˜å¹¶é‡å¯&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;ä¸å‡ºæ„å¤–ä½ åº”è¯¥å·²ç»æˆåŠŸè¿›å…¥ Arch Linux çš„å®‰è£…ç•Œé¢&lt;/p&gt;
&lt;h1&gt;åŸºç¡€å®‰è£…&lt;/h1&gt;
&lt;h3&gt;0. è¿æ¥ç½‘ç»œ&lt;/h3&gt;
&lt;pre&gt;&lt;code&gt;# å¯åŠ¨ iwd æœåŠ¡
systemctl start iwd
# è¿›å…¥äº¤äº’å¼å‘½ä»¤è¡Œ
iwctl
# åˆ—å‡ºæ— çº¿è®¾å¤‡ (é€šå¸¸æ˜¯ wlan0)
device list
# æ‰«æç½‘ç»œ
station wlan0 scan
# åˆ—å‡ºå¯ç”¨ç½‘ç»œ
station wlan0 get-networks
#è¿›è¡Œè¿æ¥ è¾“å…¥å¯†ç å³å¯
station wlan0 connect YOUR-WIRELESS-NAME 
# ç¡®è®¤è¿æ¥çŠ¶æ€
station wlan0 show
# é€€å‡º iwctl
exit
# æµ‹è¯•ç½‘ç»œè¿æ¥
ping archlinux.org
&lt;/code&gt;&lt;/pre&gt;
&lt;hr /&gt;
&lt;h3&gt;ğŸ’¡ å¯é€‰ï¼šé€šè¿‡ SSH è¿œç¨‹è¿æ¥å®‰è£…ï¼ˆæ¨èï¼‰&lt;/h3&gt;
&lt;p&gt;å¦‚æœéœ€è¦ä½¿ç”¨å…¶ä»–è®¾å¤‡é€šè¿‡ &lt;strong&gt;SSH è¿æ¥&lt;/strong&gt;åˆ° Arch Linux å®‰è£…ç¯å¢ƒï¼ˆ&lt;code&gt;archiso&lt;/code&gt;ï¼‰è¿›è¡Œæ“ä½œï¼Œä»¥æ–¹ä¾¿&lt;strong&gt;å¤åˆ¶ç²˜è´´å‘½ä»¤&lt;/strong&gt;ï¼Œè¯·æ‰§è¡Œä»¥ä¸‹æ­¥éª¤ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;å‰æï¼š&lt;/strong&gt; ç¡®ä¿ Surfacee å’Œç”¨äº SSH è¿æ¥çš„è®¾å¤‡å¤„äºåŒä¸€å±€åŸŸç½‘å†…ã€‚&lt;/p&gt;
&lt;h4&gt;1. è®¾ç½® Root å¯†ç &lt;/h4&gt;
&lt;p&gt;åœ¨ &lt;code&gt;archiso&lt;/code&gt; ç¯å¢ƒä¸­ï¼Œä¸º &lt;code&gt;root&lt;/code&gt; ç”¨æˆ·è®¾ç½®ä¸€ä¸ªç™»å½•å¯†ç ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;passwd
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;ç³»ç»Ÿä¼šæç¤ºæ‚¨è¾“å…¥å¹¶ç¡®è®¤æ–°å¯†ç &lt;/p&gt;
&lt;h4&gt;2. è¿œç¨‹è¿æ¥&lt;/h4&gt;
&lt;p&gt;åœ¨å…¶ä»–è®¾å¤‡ä¸Šï¼Œä½¿ç”¨ ssh å‘½ä»¤è¿æ¥åˆ° archiso çš„ IP åœ°å€ï¼ˆä¾‹å¦‚ 10.0.0.5ï¼‰ã€‚å¦‚æœä¸çŸ¥é“ IPï¼Œå¯ä»¥åœ¨ archiso ä¸­è¿è¡Œ ip a æŸ¥çœ‹&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;ssh root@10.0.0.5
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;è¾“å…¥æ‚¨åœ¨ 1. ä¸­è®¾ç½®çš„å¯†ç åï¼Œæ‚¨å°†æˆåŠŸç™»å½•å¹¶çœ‹åˆ°ç±»ä¼¼å¦‚ä¸‹çš„æç¤ºç¬¦&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;root@archiso ~ #
&lt;/code&gt;&lt;/pre&gt;
&lt;h3&gt;1. æ›´æ–°ç³»ç»Ÿæ—¶é’Ÿ&lt;/h3&gt;
&lt;pre&gt;&lt;code&gt;# å°†ç³»ç»Ÿæ—¶é—´ä¸ç½‘ç»œæ—¶é—´è¿›è¡ŒåŒæ­¥
timedatectl set-ntp true
# æ£€æŸ¥æ—¶é—´æœåŠ¡çŠ¶æ€
timedatectl status
&lt;/code&gt;&lt;/pre&gt;
&lt;h3&gt;2. ç£ç›˜åˆ†åŒºä¸æ ¼å¼åŒ–&lt;/h3&gt;
&lt;p&gt;Surface Pro 5 çš„åŸè£…ç£ç›˜ä¸º NVme SSD è®¾å¤‡åä¸€èˆ¬ä¸º &lt;code&gt;/dev/nvme0n1&lt;/code&gt;&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;# æŸ¥çœ‹ç£ç›˜åˆ—è¡¨
lsblk
# ä½¿ç”¨ cfdisk è¿›è¡Œåˆ†åŒº
cfdisk /dev/nvme0n
# åˆ†åŒºç»“æŸåæ£€æŸ¥ç£ç›˜æƒ…å†µ
fdisk -l
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;ä»¥ä¸‹ä¸ºæˆ‘ä½¿ç”¨çš„åˆ†åŒºæ–¹æ¡ˆ (å»ºè®®æ ¹æ®è‡ªèº«ä¹ æƒ¯è‡ªè¡Œè°ƒæ•´)&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;EFI åˆ†åŒº&lt;/strong&gt; å¤§å° 512M ç±»å‹ä¸º &lt;code&gt;EFI System&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Swap åˆ†åŒº&lt;/strong&gt; å¤§å° 4G ç±»å‹ä¸º &lt;code&gt;Linux swap&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;æ ¹ç›®å½•&lt;/strong&gt; å‰©ä½™æ‰€æœ‰ç©ºé—´ ç±»å‹ä¸º&lt;code&gt;Linux filesystem&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;å»ºç«‹å¥½åˆ†åŒºåéœ€è¦å¯¹åˆ†åŒºæ ¼å¼åŒ–ï¼Œè¿™é‡Œç”¨ &lt;code&gt;mkfs.ext4&lt;/code&gt; å‘½ä»¤æ ¼å¼åŒ–æ ¹åˆ†åŒºï¼Œç”¨ &lt;code&gt;mkfs.vfat&lt;/code&gt; å‘½ä»¤æ ¼å¼åŒ– EFI åˆ†åŒºã€‚å¦‚ä¸‹å‘½ä»¤ä¸­çš„ &lt;code&gt;nvme0n1px&lt;/code&gt; ä¸­ï¼Œx ä»£è¡¨åˆ†åŒºçš„åºå·ã€‚æ ¼å¼åŒ–å‘½ä»¤è¦ä¸ä¸Šä¸€æ­¥åˆ†åŒºä¸­ç”Ÿæˆçš„åˆ†åŒºåå­—å¯¹åº”æ‰å¯ä»¥&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;# æ ¼å¼åŒ– EFI åˆ†åŒº
mkfs.vfat  /dev/nvme0n1px
# åˆ›å»ºå¹¶æ¿€æ´» Swap åˆ†åŒº
mkswap /dev/nvme0n1px
swapon /dev/nvme0n1px
# æ ¼å¼åŒ–æ ¹åˆ†åŒºä¸º ext4
mkfs.ext4 /dev/nvme0n1px
&lt;/code&gt;&lt;/pre&gt;
&lt;h3&gt;3. æŒ‚è½½ç£ç›˜åˆ†åŒº&lt;/h3&gt;
&lt;p&gt;æŒ‚è½½ç£ç›˜åˆ†åŒºçš„æ—¶å€™ï¼ŒæŒ‚è½½éœ€è¦æŒ‰ç…§é¡ºåºï¼ŒæŒ‚è½½&lt;code&gt;æ ¹ç›®å½•&lt;/code&gt;åæŒ‚è½½ &lt;code&gt;EFI åˆ†åŒº&lt;/code&gt;&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;# æŒ‚è½½æ ¹ç›®å½•
mount /dev/nvme0n1px /mnt
# åˆ›å»º EFI ç›®å½•
mkdir /mnt/boot
# æŒ‚è½½ EFI ç›®å½•
mount /dev/nvme0n1px /mnt/boot
&lt;/code&gt;&lt;/pre&gt;
&lt;h3&gt;4. è®¾ç½®é•œåƒæº&lt;/h3&gt;
&lt;p&gt;ä½¿ç”¨å¦‚ä¸‹å‘½ä»¤è®¾ç½®é•œåƒæº&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;vim /etc/pacman.d/mirrorlist
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;å…¶ä¸­é¦–è¡Œæ˜¯å°†è¦ä½¿ç”¨çš„é•œåƒæºï¼Œ å¯¹äºä¸­å›½å¤§é™†ç”¨æˆ·æ·»åŠ ä¸­ç§‘å¤§æˆ–è€…æ¸…åçš„æ”¾åœ¨æœ€ä¸Šé¢å³å¯&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;Server = https://mirrors.ustc.edu.cn/archlinux/$repo/os/$arch
Server = https://mirrors.tuna.tsinghua.edu.cn/archlinux/$repo/os/$arch
&lt;/code&gt;&lt;/pre&gt;
&lt;h3&gt;5. å®‰è£…ç³»ç»Ÿ&lt;/h3&gt;
&lt;p&gt;å¿…é¡»çš„åŸºç¡€åŒ…&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;pacstrap /mnt base base-devel linux linux-headers linux-firmware 
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;å¿…é¡»çš„åŠŸèƒ½æ€§è½¯ä»¶&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;pacstrap /mnt vim networkmanager 
# vim ä¸€ä¸ªæ–‡æœ¬ç¼–è¾‘å™¨
# networkmanager ç”¨äºè¿æ¥æ— çº¿ç½‘ç»œ
&lt;/code&gt;&lt;/pre&gt;
&lt;h3&gt;6. ç”Ÿæˆ fstab æ–‡ä»¶&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;fstab&lt;/code&gt; æ–‡ä»¶å®šä¹‰äº†ç³»ç»Ÿå¯åŠ¨æ—¶å¦‚ä½•æŒ‚è½½ç£ç›˜åˆ†åŒº&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;genfstab -U /mnt &amp;gt;&amp;gt; /mnt/etc/fstab
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;ç”Ÿæˆåæœ€å¥½æ£€æŸ¥ä¸€ä¸‹ &lt;code&gt;/mnt/etc/fstab&lt;/code&gt;  æ–‡ä»¶å†…å®¹æ˜¯å¦æ­£ç¡®&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;cat /mnt/etc/fstab
&lt;/code&gt;&lt;/pre&gt;
&lt;h3&gt;7. change root&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;chroot&lt;/code&gt; å‘½ä»¤å¯ä»¥è®©ä½ è¿›å…¥æ–°å®‰è£…çš„ç³»ç»Ÿç¯å¢ƒï¼Œåƒåœ¨çœŸå®ç³»ç»Ÿä¸­ä¸€æ ·æ‰§è¡Œå‘½ä»¤ã€‚&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;arch-chroot /mnt
&lt;/code&gt;&lt;/pre&gt;
&lt;h3&gt;8. ç³»ç»Ÿåˆå§‹åŒ–&lt;/h3&gt;
&lt;p&gt;è¿›äº†æ–°ç³»ç»Ÿåéœ€è¦è¿›è¡Œä¸€äº›åŸºç¡€è®¾ç½®&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;# è®¾ç½®ç³»ç»Ÿæ—¶åŒº
ln -sf /usr/share/zoneinfo/Asia/Shanghai /etc/localtime
hwclook --systohc

# æœ¬åœ°åŒ–è®¾ç½®
echo &quot;en_US.UTF-8 UTF-8&quot; &amp;gt;&amp;gt; /etc/locale.gen
echo &quot;zh_CN.UTF-8 UTF-8&quot; &amp;gt;&amp;gt; /etc/locale.gen
locale-gen
echo &quot;LANG=en_US.UTF-8&quot; &amp;gt; /etc/locale.conf

# è®¾ç½®ä¸»æœºå (å¯ä»¥å°† Surface æ›¿æ¢ä¸ºè‡ªå·±å–œæ¬¢çš„ä¸»æœºå)
echo &quot;Surface&quot; &amp;gt; /etc/hostname

# é…ç½® hosts æ–‡ä»¶
echo &quot;127.0.0.1   localhost&quot; &amp;gt;&amp;gt; /etc/hosts
echo &quot;::1         localhost&quot; &amp;gt;&amp;gt; /etc/hosts
echo &quot;127.0.1.1   Surface.localdomain  Surface&quot; &amp;gt;&amp;gt; /etc/hosts

# è®¾ç½® root ç”¨æˆ·å¯†ç 
passwd

# å®‰è£… CPU å¾®ç 
pacman -S intel-ucode
&lt;/code&gt;&lt;/pre&gt;
&lt;h3&gt;9. å®‰è£…å¼•å¯¼ç¨‹åº&lt;/h3&gt;
&lt;pre&gt;&lt;code&gt;pacman -S grub efibootmgr
grub-install --target=x86_64-efi --efi-directory=/boot --bootloader-id=Grub
grub-mkconfig -o /boot/grub/grub.cfg

&lt;/code&gt;&lt;/pre&gt;
&lt;h3&gt;10. å®‰è£… linux-surface å†…æ ¸&lt;/h3&gt;
&lt;p&gt;ä½¿ç”¨æ­¤å†…æ ¸å¯ä»¥æ”¹å–„è§¦æ§/æ‰‹å†™ç¬”ã€æ‘„åƒå¤´ã€ç”µæºç®¡ç†ç­‰æ”¯æŒ&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;# å¯¼å…¥å¯†é’¥å¹¶ä¿¡ä»»
curl -s https://pkg.surfacelinux.com/keys.asc | pacman-key --add -
pacman-key --lsign-key 56C464BAAC421453

# æ·»åŠ è½¯ä»¶æº
cat &amp;gt;&amp;gt; /etc/pacman.conf &amp;lt;&amp;lt;&apos;EOF&apos;
[linux-surface]
Server = https://pkg.surfacelinux.com/arch/
EOF

# æ›´æ–°å¹¶å®‰è£…
pacman -Syu
pacman -S linux-surface linux-surface-headers iptsd linux-firmware-marvell

#æ›´æ–°å¼•å¯¼ç¨‹åºé…ç½®ä»¥å¯ç”¨æ–°å†…æ ¸
grub-mkconfig -o /boot/grub/grub.cfg
&lt;/code&gt;&lt;/pre&gt;
&lt;h3&gt;11. å®Œæˆå®‰è£…&lt;/h3&gt;
&lt;p&gt;æ³¨æ„ï¼Œé‡å¯å‰è¦å…ˆæ‹”æ‰ä¼˜ç›˜ï¼Œå¦åˆ™ä½ é‡å¯åè¿˜æ˜¯è¿›å®‰è£…ç¨‹åºè€Œä¸æ˜¯å®‰è£…å¥½çš„ç³»ç»Ÿã€‚é‡å¯åï¼Œä½¿ç”¨ &lt;code&gt;nmtui&lt;/code&gt; æˆ– &lt;code&gt;nmcli&lt;/code&gt; å³å¯è¿æ¥ç½‘ç»œ&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;# é€€å‡º chroot 
exit
# å¸è½½åˆ†åŒº 
umount -R /mnt
# é‡å¯
reboot  
&lt;/code&gt;&lt;/pre&gt;
&lt;h2&gt;åˆ°æ­¤ä¸ºæ­¢ï¼Œä¸€ä¸ªæ— æ¡Œé¢ç¯å¢ƒçš„ Arch Linux åœ¨ Surface Pro 5 ä¸Šå°±å®‰è£…å®Œæˆäº†&lt;/h2&gt;
</content:encoded></item><item><title>Hello world!</title><link>https://blog.lyqgzbl.com/posts/helloworld/</link><guid isPermaLink="true">https://blog.lyqgzbl.com/posts/helloworld/</guid><pubDate>Thu, 16 Oct 2025 00:00:00 GMT</pubDate><content:encoded>&lt;hr /&gt;
&lt;h1&gt;The world is big, you have to go and see&lt;/h1&gt;
&lt;hr /&gt;
</content:encoded></item></channel></rss>